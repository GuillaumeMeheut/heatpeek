exports.id=667,exports.ids=[667],exports.modules={58359:()=>{},93739:()=>{},60662:(e,r,t)=>{Promise.resolve().then(t.bind(t,71475)),Promise.resolve().then(t.t.bind(t,44064,23)),Promise.resolve().then(t.bind(t,17543)),Promise.resolve().then(t.bind(t,98402))},96873:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},71475:(e,r,t)=>{"use strict";t.d(r,{I18nProviderClient:()=>o,QT:()=>s,Zt:()=>i,eV:()=>n});let{useI18n:s,useScopedI18n:a,I18nProviderClient:o,useChangeLocale:i,useCurrentLocale:n}=(0,t(8407).createI18nClient)({en:()=>t.e(266).then(t.bind(t,78266)),fr:()=>t.e(290).then(t.bind(t,94290))})},48476:(e,r,t)=>{"use strict";t.d(r,{SignOutButton:()=>c});var s=t(10326),a=t(91664),o=t(71810);t(15424);var i=t(46242),n=(0,i.$)("12d1b960d162fcd9e9feea23a05b842f334f050e");(0,i.$)("dc2a9c5531559720941b8aaec462d0ad3ea2145e"),(0,i.$)("6a8a26413187bace2643ca46c408820ea12e2665");var l=t(71475);function c(){let e=(0,l.QT)();return s.jsx("form",{action:n,children:(0,s.jsxs)(a.z,{variant:"ghost",size:"sm",type:"submit",className:"flex items-center gap-2",children:[s.jsx(o.Z,{className:"h-4 w-4"}),e("auth.signOut")]})})}},78937:(e,r,t)=>{"use strict";t.d(r,{LanguageSwitcher:()=>l});var s=t(10326),a=t(29280),o=t(54014),i=t(71475);let n=[{code:"en",name:"English",letter:"EN"},{code:"fr",name:"Fran\xe7ais",letter:"FR"}];function l(){let e=(0,i.Zt)(),r=(0,i.eV)(),t=n.find(e=>e.code===r)||n[0];return(0,s.jsxs)(a.Ph,{value:r,onValueChange:e,children:[s.jsx(a.i4,{className:"h-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(o.Z,{className:"h-4 w-4"}),t.letter]})}),s.jsx(a.Bw,{children:n.map(e=>s.jsx(a.Ql,{value:e.code,children:s.jsx("div",{className:"flex items-center gap-2",children:e.name})},e.code))})]})}},98402:(e,r,t)=>{"use strict";t.d(r,{ToastListener:()=>o});var s=t(17577),a=t(35047);function o(){return(0,a.useRouter)(),(0,a.usePathname)(),(0,a.useSearchParams)(),(0,s.useRef)(null),null}t(85999)},17543:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>i});var s=t(10326),a=t(14831),o=t(85999);let i=({...e})=>{let{theme:r="system"}=(0,a.F)();return s.jsx(o.x7,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},91664:(e,r,t)=>{"use strict";t.d(r,{d:()=>l,z:()=>c});var s=t(10326),a=t(17577),o=t(34214),i=t(79360),n=t(51223);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},c)=>{let d=a?o.g7:"button";return s.jsx(d,{className:(0,n.cn)(l({variant:r,size:t,className:e})),ref:c,...i})});c.displayName="Button"},29280:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>m,Ph:()=>d,Ql:()=>f,i4:()=>p,ki:()=>u});var s=t(10326),a=t(17577),o=t(44875),i=t(941),n=t(96633),l=t(32933),c=t(51223);let d=o.fC;o.ZA;let u=o.B4,p=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(o.xz,{ref:a,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,s.jsx(o.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=o.xz.displayName;let h=a.forwardRef(({className:e,...r},t)=>s.jsx(o.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:s.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=o.u_.displayName;let g=a.forwardRef(({className:e,...r},t)=>s.jsx(o.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:s.jsx(i.Z,{className:"h-4 w-4"})}));g.displayName=o.$G.displayName;let m=a.forwardRef(({className:e,children:r,position:t="popper",...a},i)=>s.jsx(o.h_,{children:(0,s.jsxs)(o.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[s.jsx(h,{}),s.jsx(o.l_,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),s.jsx(g,{})]})}));m.displayName=o.VY.displayName,a.forwardRef(({className:e,...r},t)=>s.jsx(o.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",e),...r})).displayName=o.__.displayName;let f=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(o.ck,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(o.wU,{children:s.jsx(l.Z,{className:"h-4 w-4"})})}),s.jsx(o.eT,{children:r})]}));f.displayName=o.ck.displayName,a.forwardRef(({className:e,...r},t)=>s.jsx(o.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=o.Z0.displayName},51223:(e,r,t)=>{"use strict";t.d(r,{Ax:()=>n,cn:()=>o,yV:()=>i});var s=t(41135),a=t(31009);function o(...e){return(0,a.m6)((0,s.W)(e))}let i=e=>{try{let r=new URL(e);return`${r.protocol}//${r.host}`}catch{return e}},n=(e="")=>{let r=""!=="http://localhost:3000/".trim()?"http://localhost:3000/":process?.env?.NEXT_PUBLIC_VERCEL_URL&&""!==process.env.NEXT_PUBLIC_VERCEL_URL.trim()?process.env.NEXT_PUBLIC_VERCEL_URL:"http://localhost:3000/";return r=(r=r.replace(/\/+$/,"")).includes("http")?r:`https://${r}`,(e=e.replace(/^\/+/,""))?`${r}/${e}`:r}},87137:(e,r,t)=>{let{createProxy:s}=t(68570);e.exports=s("/Users/guillaume/Documents/perso/heatpeek-project/heatpeek/locales/client.ts")},78243:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,metadata:()=>u});var s=t(19510),a=t(43800),o=t.n(a);t(54315);var i=t(87137),n=t(68570);let l=(0,n.createProxy)(String.raw`/Users/guillaume/Documents/perso/heatpeek-project/heatpeek/src/components/ui/Toast/sonner.tsx#Toaster`),c=(0,n.createProxy)(String.raw`/Users/guillaume/Documents/perso/heatpeek-project/heatpeek/src/components/ui/Toast/ToastListener.tsx#ToastListener`);var d=t(9720);let u={title:"Heatpeek - Privacy-Focused Heatmap Analytics",description:"Understand your users without compromising their privacy. Heatpeek provides lightweight, privacy-respecting heatmap analytics for your website.",keywords:["heatpeek","heatmap","analytics","privacy","website","analytics","heatmap","analytics","heatmap","analytics"],verification:{google:"hsOjJBRlLPdcjorDyYrG7bXlybkfODPMrxehr2Bgqr8"}};async function p({params:e,children:r}){let{locale:t}=await e;return(0,s.jsxs)("html",{lang:t,children:[s.jsx(d.default,{id:"_3bQl0XF",src:"https://cdn.heatpeek.com/hp.js",defer:!0,strategy:"afterInteractive"}),(0,s.jsxs)("body",{className:o().className,children:[s.jsx(i.I18nProviderClient,{locale:t,children:r}),s.jsx(l,{theme:"light",position:"bottom-center",richColors:!0}),s.jsx(c,{})]})]})}},538:(e,r,t)=>{"use strict";t.d(r,{KM:()=>l,PR:()=>a,TD:()=>d,Um:()=>o,kb:()=>i,mW:()=>c,vM:()=>n});var s=t(71159);let a=(0,s.cache)(async e=>{let{data:{user:r},error:t}=await e.auth.getUser();return{user:r,error:t}});(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("projects").insert(r).select("id").single();if(s){if(console.log("Error adding project:",s),"23505"===s.code)throw Error("Project with this base URL already exists");throw Error("Error adding project")}return t.id}),(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("project_config").insert(r);if(t)throw console.log("Error adding page config:",t),Error("Error adding page config")}),(0,s.cache)(async(e,r,t)=>{let{error:s}=await e.from("projects").update(t).eq("id",r);if(s)throw console.error("Error updating project:",s),Error("Failed to update project")}),(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("urls").insert(r).select("id").single();if(s){if(console.log("Error adding url:",s),"23505"===s.code)throw Error("Url already exists");throw Error("Error adding url")}return t.id}),(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("page_config").insert(r);if(t)throw console.log("Error adding page config:",t),Error("Error adding page config")});let o=(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("urls").select("id, path, label").eq("project_id",r);return s?(console.log("Error fetching urls:",s),null):t}),i=(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("urls").select(`
        id,
        path,
        label,
        views,
        clicks,
        tracking_id,
        page_config (
          id,
          is_active
        )
      `).eq("project_id",r);return s?(console.log("Error fetching urls:",s),null):t});(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("snapshots").insert(r);if(t)throw console.error("Error inserting snapshot:",t),Error("Error inserting snapshot")}),(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("snapshots").insert(r);if(t)throw console.error("Error inserting snapshot:",t),Error("Error inserting snapshot")}),(0,s.cache)(async(e,r,t,s)=>{let{error:a}=await e.from("snapshots").update(s).eq("url_id",r).eq("is_outdated",!1).eq("device",t);return a?(console.log("Error updating snapshot:",a),null):"success"});let n=(0,s.cache)(async(e,r,t,s)=>{let{data:a,error:o}=await e.from("snapshots").select(`id, 
       label, 
       screenshot_url, 
       width, 
       height, 
       url_id,
       dom_data,
       urls!inner (
         path, 
         project_id
       )`).eq("urls.project_id",r).eq("urls.path",t).eq("device",s).eq("is_outdated",!1).single();return o?(console.log("Error fetching snapshot:",o),null):a});(0,s.cache)(async(e,r,t,s)=>{let{data:a,error:o}=await e.from("snapshots").select(`
        id,
        dom_data,
        urls!inner (
          tracking_id,
          path
        )
      `).eq("urls.tracking_id",r).eq("urls.path",t).eq("device",s).eq("is_outdated",!1).single();return o?(console.log("Error fetching snapshot id:",o),null):a}),(0,s.cache)(async(e,r)=>{let t=`${r.urlId}/${r.layoutHash}.png`,{error:s}=await e.storage.from("screenshots").upload(t,r.buffer,{contentType:"image/png",upsert:!0});if(s)return console.error("Error uploading screenshot:",s),null;let{data:a}=e.storage.from("screenshots").getPublicUrl(t);return a.publicUrl}),(0,s.cache)(async(e,r,t,s)=>{let{data:a,error:o}=await e.from("snapshots").select(`should_update, url_id,
        urls!inner(
          tracking_id
        )
      `).eq("urls.tracking_id",r).eq("urls.path",t).eq("device",s).eq("is_outdated",!1).single();return o?(console.log("Error fetching snapshot id:",o),null):a});let l=(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("projects").select("tracking_id, base_url").eq("id",r).single();return s?(console.log("Error getting tracking ID and base URL:",s),null):t});(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("projects").select("tracking_id").eq("id",r).single();return s?(console.log("Error getting tracking ID:",s),null):t.tracking_id}),(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("project_config").select("id").eq("project_id",r).single();return s?(console.log("Error getting project config ID:",s),null):t.id});let c=(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("projects").select("id, label, base_url, type, created_at").eq("user_id",r);return s?(console.log("Error fetching projects:",s),null):t});(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("projects").delete().eq("id",r);if(t)throw console.error("Error deleting project:",t),Error("Failed to delete project")}),(0,s.cache)(async(e,r)=>{let{error:t}=await e.from("urls").delete().eq("id",r);if(t)throw console.error("Error deleting url:",t),Error("Failed to delete url.")}),(0,s.cache)(async(e,r,t)=>{let{error:s}=await e.from("urls").update(t).eq("id",r);if(s)throw console.error("Error updating url:",s),Error("Failed to update url")}),(0,s.cache)(async(e,r,t)=>{let{error:s}=await e.from("page_config").update(t).eq("url_id",r);if(s)throw console.error("Error updating page config:",s),Error("Failed to update page config")});let d=(0,s.cache)(async(e,r)=>{let{data:t,error:s}=await e.from("user_profiles").select("stripe_customer_id, current_plan, subscription_status").eq("id",r).single();if(s)throw console.error("Error getting customer ID:",s),Error("Failed to get customer ID");return t})},65655:(e,r,t)=>{"use strict";t.d(r,{e:()=>o,o:()=>i});var s=t(68005),a=t(71615);let o=()=>{let e=(0,a.cookies)();return(0,s.createServerClient)("https://rkrkpchutofbpyqvniqq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrcmtwY2h1dG9mYnB5cXZuaXFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2NjQxMDEsImV4cCI6MjA2ODI0MDEwMX0.ZwRskqebH9S5St7QH3d4-fhQ8u4MzBng6bWYA0MlQnw",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>{e.set(r,t,s)})}catch(e){}}}})};function i(){let e=process.env.SUPABASE_SERVICE_ROLE_KEY;return(0,s.createServerClient)("https://rkrkpchutofbpyqvniqq.supabase.co",e,{cookies:{getAll:()=>[],setAll:()=>{}},auth:{autoRefreshToken:!1,persistSession:!1}})}},54315:()=>{}};