(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{29904:function(e,s,r){Promise.resolve().then(r.bind(r,13293)),Promise.resolve().then(r.bind(r,3455))},79205:function(e,s,r){"use strict";r.d(s,{Z:function(){return u}});var t=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),i=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},n=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()},c=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...m}=e;return(0,t.createElement)("svg",{ref:s,...d,width:a,height:a,stroke:r,strokeWidth:i?24*Number(l)/Number(a):l,className:n("lucide",o),...!u&&!c(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(u)?u:[u]])}),u=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:c,...d}=r;return(0,t.createElement)(o,{ref:l,iconNode:s,className:n("lucide-".concat(a(i(e))),"lucide-".concat(e),c),...d})});return r.displayName=i(e),r}},42208:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},28921:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(79205).Z)("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]])},13293:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var t=r(57437),a=r(22374),l=r(12381),i=r(99397),n=r(51817),c=r(40279),d=r(75060),o=r(30163),u=r(2265),h=r(70196),m=r(78516),f=r(14438),x=r(2788),p=r(80670);function b(e){let{projectId:s}=e,r=(0,h.QT)(),[b,j]=(0,u.useState)(!1),[g,v]=(0,u.useTransition)(),N=async e=>{v(async()=>{try{e.append("projectId",s);let t={url:e.get("url"),label:e.get("label"),is_active:"on"===e.get("is_active"),projectId:e.get("projectId")},a=(0,x.a)(r).safeParse(t);if(!a.success)throw Error(a.error.errors[0].message);await (0,m.Kf)(a.data),j(!1),f.Am.success(r("addUrl.success"))}catch(e){f.Am.error(e instanceof Error?e.message:r("addUrl.error"))}})};return(0,t.jsxs)(a.Vq,{open:b,onOpenChange:j,children:[(0,t.jsx)(a.hg,{asChild:!0,children:(0,t.jsxs)(l.z,{className:"bg-primary hover:bg-primary/90",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),r("addUrl.trigger")]})}),(0,t.jsx)(a.cZ,{className:"sm:max-w-[500px]",children:(0,t.jsxs)(p.l,{action:N,isDisabled:g,children:[(0,t.jsxs)(a.fK,{children:[(0,t.jsx)(a.$N,{children:r("addUrl.title")}),(0,t.jsx)(a.Be,{children:r("addUrl.description")})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d._,{htmlFor:"url",children:r("addUrl.urlLabel")}),(0,t.jsx)(c.I,{id:"url",name:"url",placeholder:r("addUrl.urlPlaceholder"),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d._,{htmlFor:"label",children:r("addUrl.labelLabel")}),(0,t.jsx)(c.I,{id:"label",name:"label",placeholder:r("addUrl.labelPlaceholder")})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.r,{id:"is_active",name:"is_active",defaultChecked:!0}),(0,t.jsx)(d._,{htmlFor:"is_active",children:r("addUrl.trackingLabel")})]})]}),(0,t.jsxs)(a.cN,{children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>j(!1),children:r("addUrl.cancelButton")}),(0,t.jsxs)(l.z,{type:"submit",disabled:g,children:[g&&(0,t.jsx)(n.Z,{className:"w-4 h-4 mr-2 animate-spin"}),r("addUrl.addButton")]})]})]})})]})}},3455:function(e,s,r){"use strict";r.d(s,{default:function(){return k}});var t=r(57437),a=r(79820),l=r(69174),i=r(12381),n=r(42208),c=r(28921),d=r(15868),o=r(18930),u=r(51817),h=r(70196),m=r(22374),f=r(40279),x=r(75060),p=r(30163),b=r(2265),j=r(78516),g=r(14438),v=r(2788),N=r(80670),y=r(30767),w=r(27648);function k(e){let{urls:s,projectId:r}=e,m=(0,h.QT)(),[f,x]=(0,b.useState)(null),[p,v]=(0,b.useState)(!1),[N,k]=(0,b.useTransition)(),_=e=>(0,t.jsx)(l.C,{variant:e?"green":"destructive",children:e?m("urlsTable.status.active"):m("urlsTable.status.inactive")}),C=e=>{x(e),v(!0)},Z=async e=>{k(async()=>{try{await (0,j.yX)(e.id,e.tracking_id,e.path),g.Am.success(m("urlsTable.deleteUrl.success"))}catch(e){g.Am.error(e instanceof Error?e.message:m("urlsTable.deleteUrl.error"))}})};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Zb,{children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.ll,{children:[m("urlsTable.title")," (",s.length,")"]}),(0,t.jsx)(a.SZ,{children:m("urlsTable.description")})]})})}),(0,t.jsx)(a.aY,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"border-b bg-muted/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:m("urlsTable.columns.urlAndName")}),(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:m("urlsTable.columns.status")}),(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:m("urlsTable.columns.performance")}),(0,t.jsx)("th",{className:"text-right p-4 font-medium",children:m("urlsTable.columns.actions")})]})}),(0,t.jsx)("tbody",{children:s.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-muted/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:e.path})]})}),(0,t.jsx)("td",{className:"p-4",children:_(e.page_config.is_active)}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:e.views.toLocaleString()}),(0,t.jsx)("span",{className:"text-muted-foreground",children:m("urlsTable.performance.views")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:e.clicks})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:m("urlsTable.performance.clicks")})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(w.default,{href:"/".concat(r,"/dashboard?url=").concat(e.path),children:(0,t.jsxs)(i.z,{variant:"ghost",size:"sm",children:[m("urlsTable.buttons.view"),(0,t.jsx)(n.Z,{className:"w-4 h-4"})]})}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>C(e),children:[m("urlsTable.buttons.edit"),(0,t.jsx)(d.Z,{className:"w-4 h-4 ml-2"})]}),(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.vW,{asChild:!0,children:(0,t.jsxs)(i.z,{variant:"destructive",size:"sm",children:[m("urlsTable.buttons.delete"),(0,t.jsx)(o.Z,{className:"w-4 h-4 ml-2"})]})}),(0,t.jsxs)(y._T,{children:[(0,t.jsxs)(y.fY,{children:[(0,t.jsx)(y.f$,{children:m("urlsTable.deleteUrl.confirmTitle")}),(0,t.jsx)(y.yT,{children:m("urlsTable.deleteUrl.confirmDescription")})]}),(0,t.jsxs)(y.xo,{children:[(0,t.jsx)(y.le,{children:m("global.cancel")}),(0,t.jsx)(y.OL,{variant:"destructive",onClick:()=>Z(e),disabled:N,children:N?(0,t.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}):m("global.delete")})]})]})]})]})})]},e.id))})]})})})]}),(0,t.jsx)(T,{editingUrl:f,isEditDialogOpen:p,setIsEditDialogOpen:v})]})}let T=e=>{var s;let{editingUrl:r,isEditDialogOpen:a,setIsEditDialogOpen:l}=e,n=(0,h.QT)(),[c,d]=(0,b.useTransition)();if(!r)return null;let o=async e=>{d(async()=>{try{let s={label:e.get("label"),is_active:"on"===e.get("is_active")},t=(0,v.Q)(n).safeParse(s);if(!t.success)throw Error(t.error.errors[0].message);if(!(t.data.label!==r.label||t.data.is_active!==r.page_config.is_active)){l(!1);return}await (0,j.CQ)(r.id,t.data),l(!1),g.Am.success(n("urlsTable.editDialog.success"))}catch(e){g.Am.error(e instanceof Error?e.message:n("urlsTable.editDialog.error"))}})};return(0,t.jsx)(m.Vq,{open:a,onOpenChange:l,children:(0,t.jsx)(m.cZ,{className:"sm:max-w-[500px]",children:(0,t.jsxs)(N.l,{action:o,isDisabled:c,children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsx)(m.$N,{children:n("urlsTable.editDialog.title")}),(0,t.jsx)(m.Be,{children:n("urlsTable.editDialog.description")})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(x._,{htmlFor:"label",children:[n("urlsTable.editDialog.nameLabel")," *"]}),(0,t.jsx)(f.I,{id:"label",defaultValue:null!==(s=r.label)&&void 0!==s?s:"",name:"label"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.r,{id:"is_active",name:"is_active",defaultChecked:r.page_config.is_active}),(0,t.jsx)(x._,{htmlFor:"is_active",children:n("urlsTable.editDialog.trackingLabel")})]})]}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(i.z,{variant:"outline",type:"button",onClick:()=>l(!1),disabled:c,children:n("urlsTable.editDialog.cancelButton")}),(0,t.jsx)(i.z,{type:"submit",disabled:c,children:c?(0,t.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}):n("urlsTable.editDialog.saveButton")})]})]})})})}},78516:function(e,s,r){"use strict";r.d(s,{CQ:function(){return a},Kf:function(){return l},yX:function(){return i}}),r(83079);var t=r(12119),a=(0,t.$)("a06ea7d50cb4674771733d7f4a57c3d7df0631b6"),l=(0,t.$)("d12dfcf4d4d7fb180714f23ef125a67456a46705"),i=(0,t.$)("2b4117ca19ee5aee302897856143b15a909c91f0")},2788:function(e,s,r){"use strict";r.d(s,{Q:function(){return l},a:function(){return a}});var t=r(85430);let a=e=>t.ZP.object({url:t.ZP.string().min(1,e("urlManagement.validation.urlRequired")).url(e("urlManagement.validation.invalidUrl")).max(200,e("urlManagement.validation.urlTooLong")),label:t.ZP.string().max(20,e("urlManagement.validation.labelTooLong")).optional(),is_active:t.ZP.boolean(),projectId:t.ZP.string()}),l=e=>a(e).omit({url:!0,projectId:!0})},30163:function(e,s,r){"use strict";r.d(s,{r:function(){return w}});var t=r(57437),a=r(2265),l=r(6741),i=r(98575),n=r(73966),c=r(80886),d=r(6718),o=r(90420),u=r(66840),h="Switch",[m,f]=(0,n.b)(h),[x,p]=m(h),b=a.forwardRef((e,s)=>{let{__scopeSwitch:r,name:n,checked:d,defaultChecked:o,required:m,disabled:f,value:p="on",onCheckedChange:b,form:j,...g}=e,[y,w]=a.useState(null),k=(0,i.e)(s,e=>w(e)),T=a.useRef(!1),_=!y||j||!!y.closest("form"),[C,Z]=(0,c.T)({prop:d,defaultProp:null!=o&&o,onChange:b,caller:h});return(0,t.jsxs)(x,{scope:r,checked:C,disabled:f,children:[(0,t.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":N(C),"data-disabled":f?"":void 0,disabled:f,value:p,...g,ref:k,onClick:(0,l.M)(e.onClick,e=>{Z(e=>!e),_&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),_&&(0,t.jsx)(v,{control:y,bubbles:!T.current,name:n,value:p,checked:C,required:m,disabled:f,form:j,style:{transform:"translateX(-100%)"}})]})});b.displayName=h;var j="SwitchThumb",g=a.forwardRef((e,s)=>{let{__scopeSwitch:r,...a}=e,l=p(j,r);return(0,t.jsx)(u.WV.span,{"data-state":N(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:s})});g.displayName=j;var v=a.forwardRef((e,s)=>{let{__scopeSwitch:r,control:l,checked:n,bubbles:c=!0,...u}=e,h=a.useRef(null),m=(0,i.e)(h,s),f=(0,d.D)(n),x=(0,o.t)(l);return a.useEffect(()=>{let e=h.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==n&&s){let r=new Event("click",{bubbles:c});s.call(e,n),e.dispatchEvent(r)}},[f,n,c]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...u,tabIndex:-1,ref:m,style:{...u.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var y=r(93448);let w=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(b,{className:(0,y.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:s,children:(0,t.jsx)(g,{className:(0,y.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});w.displayName=b.displayName},6718:function(e,s,r){"use strict";r.d(s,{D:function(){return a}});var t=r(2265);function a(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}},function(e){e.O(0,[432,856,972,438,863,421,601,971,117,744],function(){return e(e.s=29904)}),_N_E=e.O()}]);